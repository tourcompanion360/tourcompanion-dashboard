import{r as f,j as e,C as P,E as K,U as _,M as L,a as w,b as R,T as D,c as Y}from"./react-vendor-BviNTkAm.js";import{S as v,a as S,b as E,c as k,d as m,u as M,e as O,f as G,s as g,T as i,g as z,B as x,C as b,h as A,i as h,j as F,k as W,l as $}from"./index-RpIWEDEI.js";import{R as B,C as q,X,Y as V,T as H,B as j,L as Q}from"./charts-W-paNh-v.js";const J=[{date:"2025-01-15",visitatori:0,tempoMedio:0,conversioni:0},{date:"2025-01-16",visitatori:0,tempoMedio:0,conversioni:0},{date:"2025-01-17",visitatori:0,tempoMedio:0,conversioni:0},{date:"2025-01-18",visitatori:0,tempoMedio:0,conversioni:0},{date:"2025-01-19",visitatori:0,tempoMedio:0,conversioni:0},{date:"2025-01-20",visitatori:0,tempoMedio:0,conversioni:0},{date:"2025-01-21",visitatori:0,tempoMedio:0,conversioni:0}],Z=({active:o,payload:t,label:l})=>{if(o&&t&&t.length){const c=n=>new Date(n).toLocaleDateString("it-IT",{weekday:"short",month:"short",day:"numeric"}),d=n=>{const u=Math.floor(n/60),N=n%60;return`${u}m ${N}s`};return e.jsxDEV("div",{className:"bg-background border border-border rounded-xl p-3 md:p-4 shadow-2xl backdrop-blur-sm max-w-xs",children:[e.jsxDEV("div",{className:"border-b border-border pb-2 mb-2 md:mb-3",children:e.jsxDEV("p",{className:"font-semibold text-foreground text-xs md:text-sm",children:c(l)},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:41,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:40,columnNumber:9},void 0),e.jsxDEV("div",{className:"space-y-1.5 md:space-y-2",children:t.map((n,u)=>e.jsxDEV("div",{className:"flex items-center justify-between gap-2 md:gap-4",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5 md:gap-2",children:[e.jsxDEV("div",{className:"w-2.5 h-2.5 md:w-3 md:h-3 rounded-full",style:{backgroundColor:n.color}},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:50,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-xs text-foreground-secondary font-medium",children:n.name==="visitatori"?"Visitatori":n.name==="tempoMedio"?"Tempo Medio":"Conversioni"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:54,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:49,columnNumber:15},void 0),e.jsxDEV("span",{className:"text-xs md:text-sm font-bold text-foreground",children:[n.name==="tempoMedio"?d(n.value):n.value,n.name==="visitatori"&&" utenti",n.name==="conversioni"&&" leads"]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:60,columnNumber:15},void 0)]},u,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:48,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:46,columnNumber:9},void 0),e.jsxDEV("div",{className:"border-t border-border pt-1.5 md:pt-2 mt-2 md:mt-3",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-xs text-foreground-muted",children:"Tasso Conversione:"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:72,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-xs font-semibold text-success",children:t.find(n=>n.name==="conversioni")&&t.find(n=>n.name==="visitatori")?Math.round(t.find(n=>n.name==="conversioni").value/t.find(n=>n.name==="visitatori").value*100)+"%":"N/A"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:73,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:71,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:70,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:39,columnNumber:7},void 0)}return null},ee=({data:o})=>{const[t,l]=f.useState("7days"),c=o&&o.length>0?o:J;return e.jsxDEV("div",{className:"chart-container p-3 md:p-8",children:[e.jsxDEV("div",{className:"block md:hidden mb-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold gradient-text mb-2",children:"Analytics"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:95,columnNumber:9},void 0),e.jsxDEV("p",{className:"text-foreground-secondary text-xs mb-3",children:"Performance trends"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:96,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex flex-col gap-3 mb-4",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:e.jsxDEV(v,{value:t,onValueChange:l,children:[e.jsxDEV(S,{className:"w-full h-8 text-xs",children:e.jsxDEV(E,{},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:103,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:102,columnNumber:15},void 0),e.jsxDEV(k,{children:[e.jsxDEV(m,{value:"7days",children:"Ultima Settimana"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:106,columnNumber:17},void 0),e.jsxDEV(m,{value:"30days",children:"Ultimo Mese"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:107,columnNumber:17},void 0),e.jsxDEV(m,{value:"90days",children:"Ultimi 3 Mesi"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:108,columnNumber:17},void 0),e.jsxDEV(m,{value:"180days",children:"Ultimi 6 Mesi"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:109,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:105,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:101,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:100,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:99,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-center justify-between text-xs mb-3",children:[e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("div",{className:"w-2 h-2 rounded-full bg-metric-blue"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:118,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-foreground-muted",children:"Visitatori"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:119,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:117,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("div",{className:"w-2 h-2 rounded-full bg-metric-emerald"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:122,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-foreground-muted",children:"Tempo"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:123,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:121,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("div",{className:"w-2 h-2 rounded-full bg-metric-violet"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:126,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-foreground-muted",children:"Conversioni"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:127,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:125,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:116,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:94,columnNumber:7},void 0),e.jsxDEV("div",{className:"hidden md:block mb-8",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-2xl font-semibold gradient-text mb-2",children:"Performance Analytics"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:136,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-foreground-secondary",children:"Trend delle performance aggiornate - Gennaio 2025"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:137,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:135,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center gap-8 text-sm",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"w-4 h-4 rounded-full bg-gradient-to-r from-metric-blue to-metric-cyan shadow-lg"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:141,columnNumber:15},void 0),e.jsxDEV("span",{className:"text-foreground-secondary font-medium",children:"Visitatori"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:142,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:140,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"w-4 h-4 rounded-full bg-gradient-to-r from-metric-emerald to-metric-amber shadow-lg"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:145,columnNumber:15},void 0),e.jsxDEV("span",{className:"text-foreground-secondary font-medium",children:"Tempo Sessione"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:146,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:144,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"w-4 h-4 rounded-full bg-gradient-to-r from-metric-violet to-metric-rose shadow-lg"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:149,columnNumber:15},void 0),e.jsxDEV("span",{className:"text-foreground-secondary font-medium",children:"Conversioni"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:150,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:148,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:139,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:134,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-center gap-4 mb-4",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(P,{size:16,className:"text-foreground-muted"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:158,columnNumber:13},void 0),e.jsxDEV(v,{value:t,onValueChange:l,children:[e.jsxDEV(S,{className:"w-48",children:e.jsxDEV(E,{},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:161,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:160,columnNumber:15},void 0),e.jsxDEV(k,{children:[e.jsxDEV(m,{value:"7days",children:"Ultima Settimana"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:164,columnNumber:17},void 0),e.jsxDEV(m,{value:"30days",children:"Ultimo Mese"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:165,columnNumber:17},void 0),e.jsxDEV(m,{value:"90days",children:"Ultimi 3 Mesi"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:166,columnNumber:17},void 0),e.jsxDEV(m,{value:"180days",children:"Ultimi 6 Mesi"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:167,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:163,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:159,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:157,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:156,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:133,columnNumber:7},void 0),e.jsxDEV("div",{className:"h-48 md:h-96 relative overflow-hidden rounded-lg border border-glass-border bg-glass-background/30",children:[e.jsxDEV("div",{className:"absolute inset-0 opacity-[0.02]",children:e.jsxDEV("div",{className:"w-full h-full",style:{backgroundImage:`
              linear-gradient(to right, hsl(var(--foreground)) 1px, transparent 1px),
              linear-gradient(to bottom, hsl(var(--foreground)) 1px, transparent 1px)
            `,backgroundSize:"40px 40px"}},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:178,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:177,columnNumber:9},void 0),e.jsxDEV(B,{width:"100%",height:"100%",children:e.jsxDEV(q,{data:c,margin:{top:20,right:10,left:10,bottom:5},children:[e.jsxDEV("defs",{children:[e.jsxDEV("linearGradient",{id:"visitatoriGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsxDEV("stop",{offset:"5%",stopColor:"hsl(var(--metric-blue))",stopOpacity:.8},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:199,columnNumber:17},void 0),e.jsxDEV("stop",{offset:"95%",stopColor:"hsl(var(--metric-cyan))",stopOpacity:.2},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:200,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:198,columnNumber:15},void 0),e.jsxDEV("linearGradient",{id:"conversioniGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsxDEV("stop",{offset:"5%",stopColor:"hsl(var(--metric-violet))",stopOpacity:.8},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:203,columnNumber:17},void 0),e.jsxDEV("stop",{offset:"95%",stopColor:"hsl(var(--metric-rose))",stopOpacity:.2},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:204,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:202,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:197,columnNumber:13},void 0),e.jsxDEV(X,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--foreground-secondary))",fontSize:10,fontWeight:500},tickFormatter:d=>d.slice(8)+"/"+d.slice(5,7),interval:"preserveStartEnd"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:208,columnNumber:13},void 0),e.jsxDEV(V,{yAxisId:"left",axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--foreground-secondary))",fontSize:10,fontWeight:500},width:30},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:220,columnNumber:13},void 0),e.jsxDEV(V,{yAxisId:"right",orientation:"right",axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--foreground-secondary))",fontSize:10,fontWeight:500},width:30},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:231,columnNumber:13},void 0),e.jsxDEV(H,{content:e.jsxDEV(Z,{},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:244,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:244,columnNumber:13},void 0),e.jsxDEV(j,{yAxisId:"left",dataKey:"visitatori",fill:"url(#visitatoriGradient)",radius:[6,6,0,0],name:"visitatori"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:246,columnNumber:13},void 0),e.jsxDEV(j,{yAxisId:"left",dataKey:"conversioni",fill:"url(#conversioniGradient)",radius:[6,6,0,0],name:"conversioni"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:253,columnNumber:13},void 0),e.jsxDEV(Q,{yAxisId:"right",type:"monotone",dataKey:"tempoMedio",stroke:"hsl(var(--metric-emerald))",strokeWidth:3,dot:{fill:"hsl(var(--metric-emerald))",strokeWidth:2,r:4,stroke:"hsl(var(--background))"},activeDot:{r:6,fill:"hsl(var(--metric-emerald))",stroke:"hsl(var(--background))",strokeWidth:2,filter:"drop-shadow(0 0 10px hsl(var(--metric-emerald) / 0.6))"},name:"tempoMedio"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:260,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:188,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:187,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:175,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/StatsChart.tsx",lineNumber:92,columnNumber:5},void 0)},re=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"})),se=()=>{M();const{user:o}=O(),{analytics:t,isLoading:l,error:c,refreshData:d}=G((o==null?void 0:o.id)||""),[n,u]=f.useState("7d"),N=f.useRef(null),p=f.useRef(null),a={totalViews:(t==null?void 0:t.reduce((s,r)=>s+(r.views||0),0))||0,uniqueVisitors:(t==null?void 0:t.reduce((s,r)=>s+(r.unique_visitors||0),0))||0,totalClicks:(t==null?void 0:t.reduce((s,r)=>s+(r.clicks||0),0))||0,conversionRate:(t==null?void 0:t.length)>0?t.reduce((s,r)=>s+(r.conversion_rate||0),0)/t.length:0,avgSessionDuration:(t==null?void 0:t.length)>0?t.reduce((s,r)=>s+(r.avg_session_duration||0),0)/t.length:0,bounceRate:(t==null?void 0:t.length)>0?t.reduce((s,r)=>s+(r.bounce_rate||0),0)/t.length:0,viewsChange:0,visitorsChange:0,clicksChange:0,conversionChange:0};f.useEffect(()=>{if(!(o!=null&&o.id))return;console.log("[AnalyticsKPI] Setting up real-time subscriptions");const s=g.channel(`analytics-kpi-${o.id}`).on("postgres_changes",{event:"*",schema:"public",table:"analytics"},r=>{console.log("[AnalyticsKPI] Analytics change detected:",r),U()}).subscribe(r=>{console.log("[AnalyticsKPI] Subscription status:",r)});return N.current=s,()=>{console.log("[AnalyticsKPI] Cleaning up real-time subscriptions"),N.current&&g.removeChannel(N.current),p.current&&clearTimeout(p.current)}},[o==null?void 0:o.id]);const U=()=>{p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{console.log("[AnalyticsKPI] Triggering debounced refresh"),d()},1e3)},C=s=>s>=1e6?(s/1e6).toFixed(1)+"M":s>=1e3?(s/1e3).toFixed(1)+"K":s.toString(),I=s=>s>=0?e.jsxDEV(Y,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:110,columnNumber:26},void 0):e.jsxDEV(D,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:110,columnNumber:63},void 0),y=s=>s>=0?"text-green-600":"text-red-600",T=[{title:i.ANALYTICS.TOTAL_VIEWS,value:C(a.totalViews),change:a.viewsChange,icon:K,description:i.ANALYTICS.PAGE_VIEWS_DESCRIPTION},{title:i.ANALYTICS.UNIQUE_VISITORS,value:C(a.uniqueVisitors),change:a.visitorsChange,icon:_,description:i.ANALYTICS.DISTINCT_USERS_DESCRIPTION},{title:i.ANALYTICS.TOTAL_CLICKS,value:C(a.totalClicks),change:a.clicksChange,icon:L,description:i.ANALYTICS.INTERACTIVE_CLICKS_DESCRIPTION},{title:i.ANALYTICS.CONVERSION_RATE,value:isNaN(a.conversionRate)?"0.0%":`${a.conversionRate.toFixed(1)}%`,change:a.conversionChange,icon:w,description:i.ANALYTICS.CLICKS_PER_VIEW_DESCRIPTION},{title:i.ANALYTICS.AVG_SESSION_DURATION,value:z(a.avgSessionDuration),change:0,icon:R,description:i.ANALYTICS.AVG_TIME_SESSION_DESCRIPTION},{title:i.ANALYTICS.BOUNCE_RATE,value:isNaN(a.bounceRate)?"0.0%":`${a.bounceRate.toFixed(1)}%`,change:0,icon:D,description:i.ANALYTICS.SINGLE_PAGE_SESSIONS_DESCRIPTION}];return l?e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-foreground",children:i.ANALYTICS.PERFORMANCE_ANALYTICS},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:167,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-foreground-secondary",children:i.ANALYTICS.KEY_METRICS},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:168,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:166,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex gap-2",children:["7d","30d","90d","1y"].map(s=>e.jsxDEV(x,{variant:"outline",size:"sm",disabled:!0,children:s==="7d"?i.ANALYTICS.LAST_7_DAYS:s==="30d"?i.ANALYTICS.LAST_30_DAYS:s==="90d"?i.ANALYTICS.LAST_90_DAYS:i.ANALYTICS.LAST_YEAR},s,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:172,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:170,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:165,columnNumber:9},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((s,r)=>e.jsxDEV(b,{className:"animate-pulse",children:[e.jsxDEV(A,{className:"pb-3",children:e.jsxDEV("div",{className:"h-4 bg-muted rounded w-3/4"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:190,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:189,columnNumber:15},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"h-8 bg-muted rounded w-1/2 mb-2"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:193,columnNumber:17},void 0),e.jsxDEV("div",{className:"h-3 bg-muted rounded w-full"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:194,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:192,columnNumber:15},void 0)]},r,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:188,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:186,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:164,columnNumber:7},void 0):c?e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-foreground",children:i.ANALYTICS.PERFORMANCE_ANALYTICS},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:208,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-foreground-secondary",children:i.ANALYTICS.KEY_METRICS},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:209,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:207,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:206,columnNumber:9},void 0),e.jsxDEV(b,{children:e.jsxDEV(h,{className:"flex items-center justify-center py-12",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"text-destructive mb-2",children:c},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:215,columnNumber:15},void 0),e.jsxDEV(x,{onClick:()=>window.location.reload(),variant:"outline",children:"Reload Page"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:216,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:214,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:213,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:212,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:205,columnNumber:7},void 0):e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-foreground",children:i.ANALYTICS.PERFORMANCE_ANALYTICS},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:231,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-foreground-secondary",children:i.ANALYTICS.KEY_METRICS},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:232,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:230,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex gap-2",children:["7d","30d","90d","1y"].map(s=>e.jsxDEV(x,{variant:n===s?"default":"outline",size:"sm",onClick:()=>u(s),children:s==="7d"?i.ANALYTICS.LAST_7_DAYS:s==="30d"?i.ANALYTICS.LAST_30_DAYS:s==="90d"?i.ANALYTICS.LAST_90_DAYS:i.ANALYTICS.LAST_YEAR},s,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:236,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:234,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:229,columnNumber:7},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map((s,r)=>e.jsxDEV(b,{className:"hover:shadow-lg transition-shadow",children:[e.jsxDEV(A,{className:"pb-3",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsxDEV(s.icon,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:259,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:258,columnNumber:19},void 0),e.jsxDEV(F,{className:"text-lg",children:s.title},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:261,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:257,columnNumber:17},void 0),e.jsxDEV(W,{variant:s.change>=0?"default":"secondary",className:`${y(s.change)} flex items-center gap-1`,children:[I(s.change),Math.abs(s.change).toFixed(1),"%"]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:263,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:256,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:255,columnNumber:13},void 0),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"text-3xl font-bold text-foreground",children:s.value},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:274,columnNumber:17},void 0),e.jsxDEV($,{className:"text-sm",children:s.description},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:277,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:273,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:272,columnNumber:13},void 0)]},r,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:254,columnNumber:11},void 0))},void 0,!1,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:252,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/samir/Desktop/test - Copia (4)/src/components/AnalyticsKPI.tsx",lineNumber:227,columnNumber:5},void 0)},oe=Object.freeze(Object.defineProperty({__proto__:null,default:se},Symbol.toStringTag,{value:"Module"}));export{oe as A,re as S};
